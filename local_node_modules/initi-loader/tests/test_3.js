export default function run() {
    return new Promise((resolve, reject) => {
        console.debug("::Starting test_3.js::");
        const newModules = [
            "providers/tools/promise", Loader.Type.requirejs,
        ];

        const success = () => {
            const Tools = loader.getModule("providers/tools/promise");
            if (Tools !== undefined) {
                console.log("::PASS::test_3::providers/tools/promise is loaded");
                resolve();
            } else {
                throw new Error("FAIL::test_3::providers/tools/promise hasn't loaded");
            }
        }

        const fail = err => {
            console.error("FAIL::test_3::providers/tools/promise hasn't loaded", err);
            throw new Error("FAIL::test_3::providers/tools/promise hasn't loaded");
        };

        loader.loadBulk(newModules, success, fail);
    });
}

export default function run() {
    const MESSAGES = {
        success: "Test 6: Base64js loaded successfully",
        error: "Test 6: Base64js failed to load",
    }
    return new Promise((resolve, reject) => {
        const deps = [
            // "providers/v2/lib", Loader.Type.requirejs,
            "providers/tools/lib", Loader.Type.requirejs, // fix: doesn't load
            // "providers/system/controller", Loader.Type.requirejs, // fix: doesn't load
            // "providers/system/main", Loader.Type.requirejs, // fix: doesn't load because of the above
        ];

        console.debug("::Starting test_6.js::");
        loader.loadBulk(deps, () => {
            // console.debug(v2.tools.print);
            // if (!v2.tools.print) {
            //     console.error(MESSAGES.error,   "providers/v2/lib not loaded correctly");
            //     reject(new Error(MESSAGES.error));
            //     return;
            // }
            debugger;
            // const base64 = loader.getModule("providers/tools/base64js.min");
            // if (!base64) {
            //     console.error(MESSAGES.error);
            //     reject(new Error(MESSAGES.error));
            //     return;
            // }
            console.debug(MESSAGES.success);
            resolve();
        }, () => {
            console.error(MESSAGES.error);
            reject(new Error(MESSAGES.error));
        });
    })
}
